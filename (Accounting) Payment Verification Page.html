<html><head>
<meta charset="utf-8"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Inter%3Awght%40400%3B500%3B700%3B900&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<title>HASTA TRAVEL - Payment Verification</title>
<link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<style type="text/tailwindcss">
    :root {
      --primary-color: #ec5b2c;--secondary-color: #1f2937;--accent-color: #f9fafb;--neutral-color: #6b7280;--border-color: #e5e7eb;--success-color: #10b981;--danger-color: #ef4444;--warning-color: #f59e0b;}
    body {
      font-family: 'Inter', 'Noto Sans', sans-serif;
      background-color: white;
      color: var(--secondary-color);
    }
    .status-pending {
      background-color: var(--warning-color);
      color: white;
    }
    .status-accepted {
      background-color: var(--success-color);
      color: white;
    }
    .status-rejected {
      background-color: var(--danger-color);
      color: white;
    }
    .slide-out-panel {
      transition: transform 0.3s ease-in-out;
      transform: translateX(100%);
    }
    .slide-out-panel.open {
      transform: translateX(0);
    }
    .table-cell-label {
      @apply font-medium text-[var(--neutral-color)] text-xs uppercase block md:hidden;
    }
    .table-row-card {
        @apply block md:table-row mb-4 md:mb-0 rounded-lg shadow md:shadow-none border border-[var(--border-color)] md:border-none p-4 md:p-0;
    }
    .table-cell-card {
        @apply block md:table-cell py-2 md:py-3 md:px-4;
    }
    .table-cell-card:before {
        content: attr(data-label);
        @apply font-bold text-[var(--neutral-color)] text-xs uppercase block md:hidden mb-1;
    }
  </style>
</head>
<body class="bg-white text-[var(--secondary-color)]">
<div class="relative flex size-full min-h-screen flex-col group/design-root overflow-x-hidden">
<div class="layout-container flex h-full grow flex-col">
<header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-[var(--border-color)] px-4 md:px-6 lg:px-10 py-3 sticky top-0 bg-white z-50">
<div class="flex items-center gap-3">
<svg class="h-8 w-8 text-[var(--primary-color)]" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M5.05 3.636a1 1 0 011.414 0L10 7.172l3.536-3.536a1 1 0 111.414 1.414L11.414 8.586l3.536 3.535a1 1 0 11-1.414 1.415L10 10.001l-3.536 3.535a1 1 0 01-1.414-1.415L8.586 8.586 5.05 5.05a1 1 0 010-1.414z" fill-rule="evenodd"></path></svg>
<h1 class="text-[var(--primary-color)] text-xl font-bold">HASTA TRAVEL</h1>
</div>
<div class="flex items-center gap-2">
<button class="p-2 rounded-full hover:bg-[var(--accent-color)]">
<span class="material-icons text-[var(--neutral-color)]">notifications</span>
</button>
<img alt="User Avatar" class="h-8 w-8 rounded-full object-cover border border-[var(--border-color)]" src="https://lh3.googleusercontent.com/aida-public/AB6AXuAz_zm1QWMbli_jWhauULEN6oT68yG9I4Nu_KC1EwBCpar8PXUef2LcUj7riKwmau1BH3v5eUEMrKCkNvdlMJBeg9oZ4C_ponKmudH-J6KEMA6VtwqaWTZfOJtx0sl3H1bYOxksZLGY2BOBW7EueRSMEAFJ5NcU_P6BjKveUCIwLD8rAjmprjgBA2mEP3LBCxe4L0xf0PxfL7u7tzK5OXiK2qe4eBeEwIBBFOdYA7ice2Q7y-BA8mtUIPsFQeLHffiXLU_JP0K4ow"/>
<button class="lg:hidden p-2 rounded-md hover:bg-[var(--accent-color)]">
<span class="material-icons text-[var(--neutral-color)]">menu</span>
</button>
</div>
</header>
<main class="flex-1 p-4 sm:p-6 lg:p-8">
<div class="mb-6">
<h2 class="text-[var(--secondary-color)] text-2xl sm:text-3xl font-bold">Payment Verification</h2>
</div>
<div class="mb-6 flex flex-col sm:flex-row gap-4 items-center">
<div class="relative flex-grow w-full sm:w-auto">
<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-[var(--neutral-color)]">
<span class="material-icons">search</span>
</div>
<input class="form-input w-full pl-10 pr-4 py-2.5 rounded-lg border border-[var(--border-color)] bg-white focus:border-[var(--primary-color)] focus:ring-1 focus:ring-[var(--primary-color)] transition-colors placeholder:text-[var(--neutral-color)] text-sm" placeholder="Search by Booking ID" type="text"/>
</div>
<div class="relative w-full sm:w-auto">
<select class="form-select w-full sm:w-auto pl-3 pr-10 py-2.5 rounded-lg border border-[var(--border-color)] bg-white focus:border-[var(--primary-color)] focus:ring-1 focus:ring-[var(--primary-color)] transition-colors text-sm text-[var(--secondary-color)] appearance-none">
<option value="all">All Statuses</option>
<option value="pending">Pending</option>
<option value="accepted">Accepted</option>
<option value="rejected">Rejected</option>
</select>
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-[var(--neutral-color)]">
<span class="material-icons text-lg">arrow_drop_down</span>
</div>
</div>
</div>
<div class="overflow-x-auto md:border md:border-[var(--border-color)] md:rounded-lg md:shadow">
<table class="w-full min-w-[600px] md:min-w-full">
<thead class="hidden md:table-header-group bg-[var(--accent-color)]">
<tr>
<th class="px-4 py-3 text-left text-xs font-semibold text-[var(--neutral-color)] uppercase tracking-wider">Booking ID</th>
<th class="px-4 py-3 text-left text-xs font-semibold text-[var(--neutral-color)] uppercase tracking-wider">Customer</th>
<th class="px-4 py-3 text-left text-xs font-semibold text-[var(--neutral-color)] uppercase tracking-wider">Amount</th>
<th class="px-4 py-3 text-left text-xs font-semibold text-[var(--neutral-color)] uppercase tracking-wider">Status</th>
<th class="px-4 py-3 text-left text-xs font-semibold text-[var(--neutral-color)] uppercase tracking-wider">Actions</th>
</tr>
</thead>
<tbody class="block md:table-row-group">
<tr class="table-row-card hover:bg-gray-50 transition-colors group" onclick="openPanel('BKG101', 'Ali', 'RM 240', 'Toyota Vios', '10–12 June 2025', 'pending')">
<td class="table-cell-card whitespace-nowrap text-sm text-[var(--secondary-color)] font-medium" data-label="Booking ID">BKG101</td>
<td class="table-cell-card whitespace-nowrap text-sm text-[var(--neutral-color)]" data-label="Customer">Ali</td>
<td class="table-cell-card whitespace-nowrap text-sm text-[var(--neutral-color)]" data-label="Amount">RM 240</td>
<td class="table-cell-card whitespace-nowrap" data-label="Status">
<span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full status-pending">Pending</span>
</td>
<td class="table-cell-card whitespace-nowrap text-sm" data-label="Actions">
<div class="flex items-center space-x-1 md:space-x-2">
<button class="p-1.5 rounded-md text-white bg-[var(--success-color)] hover:bg-opacity-80 transition-colors" title="Approve">
<span class="material-icons text-lg">check</span>
</button>
<button class="p-1.5 rounded-md text-white bg-[var(--danger-color)] hover:bg-opacity-80 transition-colors" onclick="event.stopPropagation(); openRejectModal()" title="Reject">
<span class="material-icons text-lg">close</span>
</button>
<button class="p-1.5 rounded-md text-white bg-[var(--neutral-color)] hover:bg-opacity-80 transition-colors" title="View Details">
<span class="material-icons text-lg">visibility</span>
</button>
</div>
</td>
</tr>
<tr class="table-row-card hover:bg-gray-50 transition-colors group" onclick="openPanel('BKG102', 'Sara', 'RM 100', 'Perodua Myvi', '15–16 July 2025', 'accepted')">
<td class="table-cell-card whitespace-nowrap text-sm text-[var(--secondary-color)] font-medium" data-label="Booking ID">BKG102</td>
<td class="table-cell-card whitespace-nowrap text-sm text-[var(--neutral-color)]" data-label="Customer">Sara</td>
<td class="table-cell-card whitespace-nowrap text-sm text-[var(--neutral-color)]" data-label="Amount">RM 100</td>
<td class="table-cell-card whitespace-nowrap" data-label="Status">
<span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full status-accepted">Accepted</span>
</td>
<td class="table-cell-card whitespace-nowrap text-sm" data-label="Actions">
<div class="flex items-center space-x-1 md:space-x-2">
<button class="p-1.5 rounded-md text-white bg-[var(--neutral-color)] hover:bg-opacity-80 transition-colors" title="View Details">
<span class="material-icons text-lg">visibility</span>
</button>
</div>
</td>
</tr>
<tr class="table-row-card hover:bg-gray-50 transition-colors group" onclick="openPanel('BKG103', 'John', 'RM 300', 'Honda City', '20–23 August 2025', 'rejected')">
<td class="table-cell-card whitespace-nowrap text-sm text-[var(--secondary-color)] font-medium" data-label="Booking ID">BKG103</td>
<td class="table-cell-card whitespace-nowrap text-sm text-[var(--neutral-color)]" data-label="Customer">John</td>
<td class="table-cell-card whitespace-nowrap text-sm text-[var(--neutral-color)]" data-label="Amount">RM 300</td>
<td class="table-cell-card whitespace-nowrap" data-label="Status">
<span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full status-rejected">Rejected</span>
</td>
<td class="table-cell-card whitespace-nowrap text-sm" data-label="Actions">
<div class="flex items-center space-x-1 md:space-x-2">
<button class="p-1.5 rounded-md text-white bg-[var(--neutral-color)] hover:bg-opacity-80 transition-colors" title="View Details">
<span class="material-icons text-lg">visibility</span>
</button>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</main>
<aside class="fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-xl border-l border-[var(--border-color)] p-6 overflow-y-auto slide-out-panel z-[60]" id="slideOutPanel">
<div class="flex justify-between items-center mb-6">
<h3 class="text-xl font-semibold text-[var(--secondary-color)]">
<span class="material-icons text-[var(--primary-color)] align-bottom mr-1">description</span>Booking Details
          </h3>
<button class="text-[var(--neutral-color)] hover:text-[var(--secondary-color)]" onclick="closePanel()">
<span class="material-icons">close</span>
</button>
</div>
<div class="space-y-3 mb-6 text-sm">
<div class="flex justify-between py-2 border-b border-[var(--border-color)]">
<span class="text-[var(--neutral-color)]">Booking ID:</span>
<span class="font-medium text-[var(--secondary-color)]" id="panelBookingId"></span>
</div>
<div class="flex justify-between py-2 border-b border-[var(--border-color)]">
<span class="text-[var(--neutral-color)]">Customer:</span>
<span class="font-medium text-[var(--secondary-color)]" id="panelCustomer"></span>
</div>
<div class="flex justify-between py-2 border-b border-[var(--border-color)]">
<span class="text-[var(--neutral-color)]">Car:</span>
<span class="font-medium text-[var(--secondary-color)]" id="panelCar"></span>
</div>
<div class="flex justify-between py-2 border-b border-[var(--border-color)]">
<span class="text-[var(--neutral-color)]">Rental Dates:</span>
<span class="font-medium text-[var(--secondary-color)]" id="panelRentalDates"></span>
</div>
<div class="flex justify-between py-2 border-b border-[var(--border-color)]">
<span class="text-[var(--neutral-color)]">Expected Amount:</span>
<span class="font-medium text-[var(--secondary-color)]" id="panelExpectedAmount"></span>
</div>
</div>
<div class="mb-6">
<h4 class="text-lg font-semibold text-[var(--secondary-color)] mb-2">Receipt Preview</h4>
<div class="relative aspect-[16/10] rounded-lg border border-[var(--border-color)] bg-[var(--accent-color)] overflow-hidden group">
<img alt="Receipt Preview" class="object-contain w-full h-full" id="panelReceiptImage" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDdyET_ikzEPCFxKxc0crP8MdJeecLQ9kGyH6R1byuFzHTVqNYDMCqLfAwcDRnvAu7wbMxSnxHfv5X5NbKpHwO-yqbwNjO37QCQdZTaRJVKJHQgLWK56tkS4rDGFAlTJ-Fxl2-RXJ9qhc3DsQSo50fx_-j6un1xJqGAKCm5ufxvJBKQT6AIGeMTBMBqHeMSsJBYr9lxhumtLUus8SpmiW4oottQEOUzHopdCVsklAFHxx9CT8ljoLgI3TwYMm4fJKzFFdeUYqQxlg"/>
<button class="absolute top-2 right-2 bg-black/60 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity focus:opacity-100" onclick="openReceiptModal()">
<span class="material-icons text-lg">zoom_in</span>
</button>
</div>
</div>
<div class="mb-6">
<h4 class="text-lg font-semibold text-[var(--secondary-color)] mb-2">Note Box</h4>
<textarea class="form-textarea w-full min-h-24 p-3 rounded-lg border border-[var(--border-color)] focus:border-[var(--primary-color)] focus:ring-1 focus:ring-[var(--primary-color)] transition-colors text-sm placeholder:text-[var(--neutral-color)]" id="panelNoteBox" placeholder="Add rejection reason or flag mismatch..."></textarea>
</div>
<div class="flex flex-col sm:flex-row gap-3">
<button class="flex-1 py-2.5 px-4 rounded-lg bg-[var(--primary-color)] text-white text-sm font-medium hover:bg-opacity-90 transition-colors">
<span class="material-icons align-middle text-base mr-1">check_circle</span> Approve
          </button>
<button class="flex-1 py-2.5 px-4 rounded-lg border border-[var(--primary-color)] text-[var(--primary-color)] text-sm font-medium hover:bg-[var(--primary-color)] hover:text-white transition-colors" onclick="openRejectModal()">
<span class="material-icons align-middle text-base mr-1">cancel</span> Reject with Note
          </button>
</div>
</aside>
<div class="fixed inset-0 bg-black/50 z-50 hidden" id="slideOutOverlay" onclick="closePanel()"></div>
</div>
<div class="fixed inset-0 z-[70] flex items-center justify-center bg-black/50 p-4 hidden" id="rejectModal">
<div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md">
<div class="flex justify-between items-center mb-4">
<h3 class="text-lg font-semibold text-[var(--secondary-color)]">Reject Payment</h3>
<button class="text-[var(--neutral-color)] hover:text-[var(--secondary-color)]" onclick="closeRejectModal()">
<span class="material-icons">close</span>
</button>
</div>
<p class="text-sm text-[var(--neutral-color)] mb-1">Booking ID: <span class="font-medium text-[var(--secondary-color)]" id="rejectModalBookingId"></span></p>
<div class="mb-4">
<label class="block text-sm font-medium text-[var(--neutral-color)] mb-1" for="rejectionReason">Reason for Rejection</label>
<textarea class="form-textarea w-full p-2 rounded-md border border-[var(--border-color)] focus:border-[var(--primary-color)] focus:ring-1 focus:ring-[var(--primary-color)]" id="rejectionReason" placeholder="E.g., Amount mismatch, invalid receipt..." rows="3"></textarea>
</div>
<div class="flex justify-end gap-3">
<button class="py-2 px-4 rounded-lg border border-[var(--border-color)] text-[var(--secondary-color)] text-sm font-medium hover:bg-[var(--accent-color)] transition-colors" onclick="closeRejectModal()">
            Cancel
          </button>
<button class="py-2 px-4 rounded-lg bg-[var(--danger-color)] text-white text-sm font-medium hover:bg-opacity-90 transition-colors">
            Confirm Rejection
          </button>
</div>
</div>
</div>
<div class="fixed inset-0 z-[70] flex items-center justify-center bg-black/75 p-4 hidden" id="receiptModal" onclick="closeReceiptModal()">
<div class="bg-white rounded-lg shadow-xl p-2 w-full max-w-xl max-h-[90vh] overflow-auto" onclick="event.stopPropagation();">
<div class="flex justify-end sticky top-0 bg-white py-1 px-1 z-10">
<button class="text-[var(--neutral-color)] hover:text-[var(--secondary-color)] bg-white rounded-full p-1" onclick="closeReceiptModal()">
<span class="material-icons">close</span>
</button>
</div>
<img alt="Receipt Full Preview" class="w-full h-auto rounded-b-lg" id="receiptModalImage" src=""/>
</div>
</div>
</div>
<script>
    const slideOutPanel = document.getElementById('slideOutPanel');
    const slideOutOverlay = document.getElementById('slideOutOverlay');
    const panelBookingId = document.getElementById('panelBookingId');
    const panelCustomer = document.getElementById('panelCustomer');
    const panelCar = document.getElementById('panelCar');
    const panelRentalDates = document.getElementById('panelRentalDates');
    const panelExpectedAmount = document.getElementById('panelExpectedAmount');
    const panelReceiptImage = document.getElementById('panelReceiptImage');
    const panelNoteBox = document.getElementById('panelNoteBox');
    const rejectModal = document.getElementById('rejectModal');
    const rejectModalBookingId = document.getElementById('rejectModalBookingId');
    const rejectionReasonTextarea = document.getElementById('rejectionReason');
    const receiptModal = document.getElementById('receiptModal');
    const receiptModalImage = document.getElementById('receiptModalImage');
    let currentBookingIdForModal = null;
    function openPanel(bookingId, customer, amount, car, rentalDates, status) {
      panelBookingId.textContent = bookingId;
      panelCustomer.textContent = customer;
      panelExpectedAmount.textContent = amount;
      panelCar.textContent = car;
      panelRentalDates.textContent = rentalDates;
      // panelReceiptImage.src = '...'; // Update if dynamic receipt images are available
      panelNoteBox.value = status === 'rejected' ? 'Amount mismatch. Paid RM 100 only' : (status === 'pending' ? '' : 'Payment verified.');
      slideOutPanel.classList.add('open');
      slideOutOverlay.classList.remove('hidden');
      document.body.classList.add('overflow-hidden', 'md:overflow-auto'); // Allow body scroll on desktop
      if (window.innerWidth < 768) { // md breakpoint
        document.body.classList.add('overflow-hidden');
      } else {
        document.body.classList.remove('overflow-hidden');
      }
    }
    function closePanel() {
      slideOutPanel.classList.remove('open');
      slideOutOverlay.classList.add('hidden');
      document.body.classList.remove('overflow-hidden', 'md:overflow-auto');
    }
    function openRejectModal() {
      currentBookingIdForModal = panelBookingId.textContent; // Assuming panel is open or get it from row data
      rejectModalBookingId.textContent = currentBookingIdForModal;
      rejectionReasonTextarea.value = panelNoteBox.value; // Pre-fill if note exists
      rejectModal.classList.remove('hidden');
      if (slideOutPanel.classList.contains('open')) { // keep panel open on mobile if reject modal is from panel
          slideOutPanel.style.zIndex = 55; // lower panel z-index
      }
    }
    function closeRejectModal() {
      rejectModal.classList.add('hidden');
      rejectionReasonTextarea.value = ""; // Clear textarea
       if (slideOutPanel.classList.contains('open')) {
          slideOutPanel.style.zIndex = 60; // restore panel z-index
      }
    }
    function openReceiptModal() {
        receiptModalImage.src = panelReceiptImage.src; // Use the source from the panel's preview
        receiptModal.classList.remove('hidden');
        if (slideOutPanel.classList.contains('open')) {
          slideOutPanel.style.zIndex = 55;
        }
    }
    function closeReceiptModal() {
        receiptModal.classList.add('hidden');
        if (slideOutPanel.classList.contains('open')) {
          slideOutPanel.style.zIndex = 60;
        }
    }
    // Close panel on escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === "Escape") {
        if (!rejectModal.classList.contains('hidden')) {
            closeRejectModal();
        } else if (!receiptModal.classList.contains('hidden')) {
            closeReceiptModal();
        } else if (slideOutPanel.classList.contains('open')) {
            closePanel();
        }
      }
    });
    window.addEventListener('resize', () => {
        if (slideOutPanel.classList.contains('open')) {
            if (window.innerWidth < 768) {
                document.body.classList.add('overflow-hidden');
            } else {
                document.body.classList.remove('overflow-hidden');
            }
        }
    });
  </script>

</body></html>